{"version":3,"sources":["webpack:///./src/views/sys/SysUsers.vue","webpack:///./src/views/sys/SysUsersForm.vue","webpack:///./src/components/InputForms/InputDuplicateCheck2.vue","webpack:///src/components/InputForms/InputDuplicateCheck2.vue","webpack:///./src/components/InputForms/InputDuplicateCheck2.vue?1b56","webpack:///./src/components/InputForms/InputDuplicateCheck2.vue?0dc9","webpack:///src/views/sys/SysUsersForm.vue","webpack:///./src/views/sys/SysUsersForm.vue?ab35","webpack:///./src/views/sys/SysUsersForm.vue?ea8e","webpack:///src/views/sys/SysUsers.vue","webpack:///./src/views/sys/SysUsers.vue?7a02","webpack:///./src/views/sys/SysUsers.vue?fd27","webpack:///./src/components/etc/EzDialog.vue","webpack:///src/components/etc/EzDialog.vue","webpack:///./src/components/etc/EzDialog.vue?0e4c","webpack:///./src/components/etc/EzDialog.vue?ca36"],"names":["render","_vm","this","_c","_self","attrs","_v","staticClass","on","$event","openDialog","model","value","search","callback","$$v","expression","headers","users","loading","showRowInfo","ref","onClose","user","compnayLists","isNew","cbCheckId","save","userdel","staticRenderFns","preventDefault","apply","arguments","valid","companys","form","i_com","n_com","user_icom","$set","originKey","rules","id","i_id","name","n_name","password","i_password","_e","password2","t_memo","isLoading","_s","delUser","_b","$attrs","counter","errMsg","successMsg","onInput","scopedSlots","_u","isCheck","key","fn","_g","check","label","proxy","prop","event","props","cbCheck","type","default","origin","watch","data","computed","isSend","mounted","methods","validate","component","components","InputDuplicateCheck","InputDuplicateCheck2","InputPassword","v","created","destroyed","init","formData","EzDialog","SysUsersForm","text","company","curUsers","isEdit","companyUsers","companyName","item","handleClick","console","field","icon","iconColor","dialog","close","_t","required","open"],"mappings":"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AAOY,OAAO,cAAcC,OAAM,IAAY,MAAK,IAAO,eAAenE,EAAIsD,QAAO,KAEluB1B,EAAkB,GC8BP,GACfe,4BACAjC,OACA0D,aACAC,eAEAC,OACA3D,aACA4D,SACAC,cACAC,cAEAC,QACAF,YACAC,aAGAE,OACAD,SACA,4CAGAE,OACA,OACAf,qCACA3C,WACAsC,UACAC,gBAGAoB,UACAC,SACA,gEAGAC,YAGAC,SACAtB,WACA,uDACA,eACA,mBACA,uBAEA,cACA,uBACA,gBACA,eACA,mBACA,uCAEA,WAEA,UACA,mDACA,kBAEA,4CACA,iBANA,mBAQA,iBAEAuB,WAKA,OAJA,eACA,6CACA,0BAEA,gBCpG6W,I,YCOzWC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,oBCsCA,GACfC,YAAAC,2BAAAC,uBAAAC,sBACA3C,oBACA2B,OACAhD,MACAkD,YACAC,cAEAxC,cACAR,WACA+C,cACAC,cAEAvB,kBACA1B,eAEAoD,OACA,OACA5C,SACAE,MACAC,SACAO,QACAI,cACAF,UACAK,WAEAZ,WACAkD,0BACAA,gDACAA,kEAIAR,YAGAJ,OACArD,OACA,cAGAuD,UACArC,cACAD,YACA,qCAIAiD,UACA,aAEAC,YACA,gBAEAT,SACAU,OACA,UACA,2CAEA,WACAvD,SACAO,QACAI,cACAF,UACAK,WAGA,wBACA,iBACA,mCAIA,aAGA,GAFA,iCACA,kBACA,kBACA,oCAEA,qBACA,yBAEA,iBACA,WACA,YACA0C,kCACAA,yCAGAA,4BAEA,uBAGAA,yBAFAA,4BAKA,uBACA,aAEA,gBAEA,qBACA,yBAEA,iBACA,WACA,YACAA,kCACAA,yCAGAA,4BAEA,uBAGAA,yBAFAA,4BAKA,4BChLqW,ICOjW,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QC8BA,GACfR,YAAAS,gBAAAC,gBACAlD,gBACAiC,OACA,OACAhE,UACAM,WACAK,gBAEAP,SAEA,CAAA8E,YAAAnF,eACA,CAAAmF,UAAAnF,cACA,CAAAmF,UAAAnF,gBAEA,CAAAmF,UAAAnF,iBAGAM,SACA8E,WACAC,YACA1E,UACAE,SACAyE,YAGApB,UACAqB,iBAEAC,iBAGAxB,OACAoB,aAIAhB,UACA,kBAEAC,YACA,sFACA3D,UACA,aACA,aACA,UACA,eAEA,0BAKA,kBACA,oEACA,+DAEAZ,aACA,cACA,eACA,eACA,0BAEAU,oBAAAiF,IACA,cACA,eACA,YACA,0BAEAC,kBAAAD,IACAE,+BAIA,mBACA,SACAC,aACA5F,SAEA,uCAEA,cAEA,GADA,kBACA,YACA,iCACA,IACA,mBACA,2CAEA,CACA,iCACA,KACA,SACA,sCACA,uBACA,kDACA,CACA,sCACA,yBACA,+CAIA,eACA,kBACA,2BAGA,iBACA,qCACA,sCACA,SACA,CAAA6F,kBAAAC,kBAEA,MAEA,YADA,0BAGA,eACA,sCACA,uBACA,oDAEA,mBAEA,6BC7KiW,ICO7V,EAAY,eACd,EACA1G,EACA6B,GACA,EACA,KACA,KACA,MAIa,e,2CClBf,IAAI7B,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,WAAWF,EAAIqD,GAAG,CAAC3C,MAAM,CAACC,MAAOX,EAAI0G,OAAQ7F,SAAS,SAAUC,GAAMd,EAAI0G,OAAO5F,GAAKC,WAAW,WAAW,WAAWf,EAAIsD,QAAO,GAAO,CAACpD,EAAG,SAAS,CAACA,EAAG,YAAY,CAACA,EAAG,kBAAkB,CAACF,EAAIK,GAAGL,EAAImD,GAAGnD,EAAIkE,UAAUhE,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,IAAIG,GAAG,CAAC,MAAQP,EAAI2G,QAAQ,CAACzG,EAAG,SAAS,CAACF,EAAIK,GAAG,gBAAgB,IAAI,GAAGH,EAAG,cAAc,CAACF,EAAI4G,GAAG,YAAY,IAAI,IAAI,IAEzbhF,EAAkB,GCgBP,GACfe,gBACA2B,OACAJ,OACAM,YACAqC,cAGAjC,OACA,OACA8B,YAGA1B,SACA2B,QACA,eACA,uBAEAG,OACA,qBACA,kBCtCiW,I,YCO7V5B,EAAY,eACd,EACAnF,EACA6B,GACA,EACA,KACA,KACA,MAIa,OAAAsD,E","file":"js/SysUsers.62e35c79.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-toolbar',[_c('v-toolbar-title',[_vm._v(\"사용자 관리\")]),_c('v-divider',{staticClass:\"mx-4\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-spacer'),_c('v-btn',{staticClass:\"mr-2\",attrs:{\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":function($event){return _vm.openDialog()}}},[_vm._v(\"사용자 추가\")])],1),_c('v-card',[_c('v-card-title',[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\",\"sm\":\"2\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.users,\"search\":_vm.search,\"loading\":_vm.loading},on:{\"dblclick:row\":_vm.showRowInfo}})],1),_c('ez-dialog',{ref:\"dialog\",attrs:{\"label\":\"사용자 추가/수정\",\"width\":\"400\",\"color\":\"primary\",\"persistent\":\"\"},on:{\"onClose\":_vm.onClose}},[_c('sys-users-form',{attrs:{\"user\":_vm.user,\"companys\":_vm.compnayLists,\"isNew\":_vm.isNew,\"cbCheckId\":_vm.cbCheckId,\"onClose\":_vm.onClose},on:{\"onSave\":_vm.save,\"onDelete\":_vm.userdel}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-select',{attrs:{\"prepend-icon\":\"mdi-office-building-outline\",\"items\":_vm.companys,\"hint\":`${_vm.form.i_com.n_com || ''}, ${_vm.form.i_com.i_com  || ''}`,\"item-text\":\"n_com\",\"item-value\":\"i_com\",\"label\":\"사업장\",\"persistent-hint\":\"\",\"return-object\":\"\",\"readonly\":!_vm.isNew,\"rules\":_vm.user_icom},model:{value:(_vm.form.i_com),callback:function ($$v) {_vm.$set(_vm.form, \"i_com\", $$v)},expression:\"form.i_com\"}}),_c('input-duplicate-check',{ref:\"id\",attrs:{\"label\":\"아이디\",\"prepend-icon\":\"mdi-account\",\"counter\":\"15\",\"origin\":_vm.originKey,\"rules\":_vm.rules.id(),\"readonly\":!_vm.isNew,\"cbCheck\":_vm.cbCheckId},model:{value:(_vm.form.i_id),callback:function ($$v) {_vm.$set(_vm.form, \"i_id\", $$v)},expression:\"form.i_id\"}}),_c('v-text-field',{attrs:{\"label\":\"이름\",\"prepend-icon\":\"mdi-card-account-details-outline\",\"rules\":_vm.rules.name()},model:{value:(_vm.form.n_name),callback:function ($$v) {_vm.$set(_vm.form, \"n_name\", $$v)},expression:\"form.n_name\"}}),(_vm.isNew)?_c('input-password',{attrs:{\"label\":\"비밀번호\",\"prepend-icon\":\"mdi-lock\",\"rules\":_vm.rules.password()},model:{value:(_vm.form.i_password),callback:function ($$v) {_vm.$set(_vm.form, \"i_password\", $$v)},expression:\"form.i_password\"}}):_vm._e(),(!_vm.isNew)?_c('input-password',{attrs:{\"label\":\"비밀번호\",\"prepend-icon\":\"mdi-lock\",\"rules\":_vm.rules.password2()},model:{value:(_vm.form.i_password),callback:function ($$v) {_vm.$set(_vm.form, \"i_password\", $$v)},expression:\"form.i_password\"}}):_vm._e(),_c('v-text-field',{attrs:{\"label\":\"비고\",\"prepend-icon\":\"mdi-note\"},model:{value:(_vm.form.t_memo),callback:function ($$v) {_vm.$set(_vm.form, \"t_memo\", $$v)},expression:\"form.t_memo\"}}),_c('v-btn',{attrs:{\"type\":\"submit\",\"block\":\"\",\"color\":\"primary\",\"loading\":_vm.isLoading}},[_vm._v(_vm._s(_vm.isNew?'추 가':'수 정'))]),(!_vm.isNew)?_c('v-btn',{attrs:{\"block\":\"\",\"loading\":_vm.isLoading},on:{\"click\":_vm.delUser}},[_vm._v(\"삭 제\")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-text-field',_vm._b({ref:\"field\",attrs:{\"value\":_vm.value,\"maxlength\":_vm.$attrs.counter,\"error-messages\":_vm.errMsg,\"success-messages\":_vm.successMsg},on:{\"input\":_vm.onInput},scopedSlots:_vm._u([(!_vm.isCheck)?{key:\"append\",fn:function(){return [_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"tabindex\":\"-1\",\"loading\":_vm.loading},on:{\"click\":_vm.check}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-check\")])],1)]}}],null,false,1344435932)},[_vm._v(\" \"+_vm._s(_vm.$attrs.label)+\" 중복검사 \")])]},proxy:true}:null],null,true)},'v-text-field',_vm.$attrs,false))\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<v-text-field\n\t\tref=\"field\"\n    \t:value=\"value\"\n    \t@input=\"onInput\"\n    \tv-bind=\"$attrs\"\n    \t:maxlength=\"$attrs.counter\"\n\t\t:error-messages=\"errMsg\"\n\t\t:success-messages=\"successMsg\"\n  \t>\n    \t<template v-if=\"!isCheck\" v-slot:append>\n      \t\t<v-tooltip top>\n        \t\t<template v-slot:activator=\"{ on, attrs }\">\n          \t\t\t<v-btn\n            \t\t\tv-on=\"on\"\n            \t\t\tv-bind=\"attrs\"\n            \t\t\ticon\t\n            \t\t\tsmall\n            \t\t\ttabindex=\"-1\"\n            \t\t\t@click=\"check\"\n            \t\t\t:loading=\"loading\"\n          \t\t\t>\n            \t\t\t<v-icon>mdi-check</v-icon>\n          \t\t\t</v-btn>\n        \t\t</template>\n\t\t\t\t{{ $attrs.label}} 중복검사\n      \t\t</v-tooltip>\n    \t</template>\n\t</v-text-field>\n</template>\n\n<script>\nexport default {\n\tname: \"InputDuplicateCheck2\",\n\tmodel: {\n    \tprop: \"value\",\n    \tevent: \"input\",\n  \t},\n  \tprops: {\n    \tvalue: String,\n\t\tcbCheck: {\n\t\t\ttype: Function,\n\t\t\tdefault : null,\n\t\t},\n\t\torigin : {\n\t\t\ttype : String,\n\t\t\tdefault : \"\",\n\t\t}\n  \t},\n\twatch : {\n\t\torigin() {\n\t\t\tthis.isCheck = this.origin ? true : !this.cbCheck;\n\t\t}\n\t},\n  \tdata() {\n    \treturn {\n      \t\tisCheck: this.origin ? true : !this.cbCheck,\n      \t\tloading: false,\n\t\t\terrMsg : \"\",\n\t\t\tsuccessMsg : \"\",\n    \t};\n  \t},\n\tcomputed : {\n\t\tisSend() {\n\t\t\treturn !!this.cbCheck && this.$refs.field.errorBucket.length === 0; \n\t\t}\n\t},\n  \tmounted() {\n   \n  \t},\n  \tmethods: {\n\t\tonInput(val) {\n\t\t\tthis.isCheck = this.origin ? this.origin === val : !this.cbCheck;\n\t\t\tthis.errMsg = \"\";\n\t\t\tthis.successMsg = \"\";\n\t\t\tthis.$emit(\"input\", val);\n    \t},\n\t\tasync check() {\n\t\t\tif(!this.isSend) return;\n\t\t\tthis.loading = true;\n\t\t\tthis.errMsg = \"\";\n\t\t\tthis.successMsg = \"\";\n\t\t\tconst data = await this.cbCheck(this.value);\n\t\t\t\n\t\t\tif(!this.value) {\n\t\t\t\tthis.successMsg = \"\";\n\t\t\t} else if(data.cnt == 0) {\n\t\t\t\tthis.successMsg = `사용 가능한 ${this.$attrs.label} 입니다.`;\n\t\t\t\tthis.isCheck = true;\n\t\t\t} else {\n\t\t\t\tthis.errMsg = `중복된 ${this.$attrs.label} 입니다.`\n\t\t\t\tthis.isCheck = false;\n\t\t\t}\n\t\t\tthis.loading = false;\n\t\t},\n\t\tvalidate() {\n\t\t\tif(!this.isCheck) {\n\t\t\t\tthis.errMsg = `${this.$attrs.label} 중복검사를 해주세요.`;\n\t\t\t\tthis.$refs.field.focus();\n\t\t\t}\n\t\t\treturn this.isCheck;\n\t\t}\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputDuplicateCheck2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputDuplicateCheck2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InputDuplicateCheck2.vue?vue&type=template&id=7cad624e&\"\nimport script from \"./InputDuplicateCheck2.vue?vue&type=script&lang=js&\"\nexport * from \"./InputDuplicateCheck2.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <v-form @submit.prevent=\"save\" ref=\"form\" v-model=\"valid\" lazy-validation>\r\n        <v-select \r\n            v-model=\"form.i_com\"\r\n            prepend-icon=\"mdi-office-building-outline\"\r\n            :items=\"companys\"\r\n            :hint=\"`${form.i_com.n_com || ''}, ${form.i_com.i_com  || ''}`\"\r\n            item-text=\"n_com\"\r\n            item-value=\"i_com\"\r\n            label=\"사업장\"\r\n            persistent-hint\r\n            return-object     \r\n            :readonly=!isNew\r\n            :rules=\"user_icom\" \r\n        />\r\n        \r\n        <input-duplicate-check ref=\"id\"\r\n            v-model=\"form.i_id\"\r\n            label=\"아이디\"\r\n            prepend-icon=\"mdi-account\"\r\n            counter=\"15\"\r\n            :origin=\"originKey\"\r\n            :rules=\"rules.id()\"\r\n            :readonly=!isNew\r\n            :cbCheck=\"cbCheckId\"\r\n            \r\n             />\r\n        <v-text-field\r\n            label=\"이름\"\r\n            v-model=\"form.n_name\"\r\n            prepend-icon=\"mdi-card-account-details-outline\"\r\n            :rules=\"rules.name()\"\r\n        />        \r\n        \r\n        <input-password v-if=isNew label=\"비밀번호\" v-model=\"form.i_password\" prepend-icon=\"mdi-lock\" :rules=\"rules.password()\"/>\r\n        <input-password v-if=!isNew label=\"비밀번호\" v-model=\"form.i_password\" prepend-icon=\"mdi-lock\" :rules=\"rules.password2()\"/>\r\n        \r\n        <v-text-field\r\n            label=\"비고\"\r\n            v-model=\"form.t_memo\"\r\n            prepend-icon=\"mdi-note\" \r\n        />\r\n        <v-btn type=\"submit\" block color=\"primary\" :loading=\"isLoading\">{{isNew?'추  가':'수  정'}}</v-btn>  \r\n        <v-btn block @click=\"delUser\" :loading=\"isLoading\" v-if=!isNew>삭 제</v-btn> \r\n\r\n\r\n    </v-form>\r\n</template>\r\n\r\n<script>\r\nimport { deepCopy } from \"../../../util/lib\";\r\nimport validateRules from \"../../../util/validateRules\";\r\nimport InputDuplicateCheck from '../../components/InputForms/InputDuplicateCheck.vue';\r\nimport InputDuplicateCheck2 from '../../components/InputForms/InputDuplicateCheck2.vue';\r\nimport InputPassword from '../../components/InputForms/InputPassword.vue';\r\n\r\nexport default {\r\n  components: { InputDuplicateCheck, InputDuplicateCheck2, InputPassword },\r\n    name: \"SysUsersForm\",\r\n    props: {\r\n        user: {\r\n            type: Object,\r\n            default: null,\r\n        },\r\n        companys: null,\r\n        cbCheckId: {\r\n            type: Function,\r\n            default: null,\r\n        },\r\n        isLoading : Boolean,\r\n        isNew : Boolean,        \r\n    },\r\n    data() {\r\n        return {\r\n            valid: true,            \r\n            form: {\r\n                i_com: \"\",                \r\n                i_id: \"\",\r\n                i_password: \"\",\r\n                n_name: \"\",\r\n                t_memo: \"\"\r\n            }, \r\n            user_icom: [\r\n                v => !!v || '사업장 필수 입력사항입니다.',\r\n                v => !(v && v.length >= 30) || '이름은 30자 이상 입력할 수 없습니다.',\r\n                v => !/[~!@#$%^&*()_+|<>?:{}]/.test(v) || '이름에는 특수문자를 사용할 수 없습니다.'\r\n            ]           \r\n        };\r\n    },\r\n    mounted() {        \r\n        //this.form = deepCopy(this.user);        \r\n    },\r\n    watch: {        \r\n        user() {        \r\n            this.init();             \r\n        },        \r\n    },\r\n    computed: {\r\n        rules: () => validateRules,\r\n        originKey() {\r\n           return this.user ? this.user.i_id : \"\";\r\n        },\r\n    },\r\n   \r\n    created() {        \r\n        this.init();        \r\n    },    \r\n    destroyed() {        \r\n        this.form = null;\r\n    },\r\n    methods: {          \r\n        init() {\r\n            if (this.user) {\r\n                this.form = deepCopy(this.user);\r\n            } else {\r\n                this.form = {\r\n                    i_com: \"\",\r\n                    i_id: \"\",\r\n                    i_password: \"\",\r\n                    n_name: \"\",\r\n                    t_memo: \"\"\r\n                }\r\n            };\r\n            this.form.i_password = \"\";            \r\n            if (this.$refs.form) {\r\n                this.$refs.form.resetValidation();\r\n            };\r\n        },\r\n        \r\n        async save() {\r\n            this.$refs.form.validate();\r\n            await this.$nextTick();\r\n            if (!this.valid) return;\r\n            if (!this.$refs.id.validate()) return;\r\n            \r\n            const formData = new FormData();\r\n\t\t\tconst keys = Object.keys(this.form);\r\n            \r\n\t\t\tfor(const key of keys) {\r\n                if(key == \"i_com\") {                    \r\n                    if (this.isNew) {\r\n                        formData.append(key, this.form.i_com.i_com);\r\n                        formData.append(\"n_com\", this.form.i_com.n_com);\r\n                    }\r\n                    else {\r\n                        formData.append(key, this.form.i_com);                    \r\n                    }                    \r\n                } else if(key == \"n_com\" && !this.isNew ) {\r\n                    formData.append(key, this.form.n_com);\r\n                } else {\r\n\t\t\t\t    formData.append(key, this.form[key]);\r\n                } \r\n\t\t\t}         \r\n            this.$emit('onSave', formData);\r\n            this.init();\r\n        },       \r\n        async delUser() {           \r\n             \r\n            const formData = new FormData();\r\n\t\t\tconst keys = Object.keys(this.form);\r\n            \r\n\t\t\tfor(const key of keys) {\r\n                if(key == \"i_com\") {                    \r\n                    if (this.isNew) {\r\n                        formData.append(key, this.form.i_com.i_com);\r\n                        formData.append(\"n_com\", this.form.i_com.n_com);\r\n                    }\r\n                    else {\r\n                        formData.append(key, this.form.i_com);                    \r\n                    }                    \r\n                } else if(key == \"n_com\" && !this.isNew ) {\r\n                    formData.append(key, this.form.n_com);\r\n                } else {\r\n\t\t\t\t    formData.append(key, this.form[key]);\r\n                } \r\n\t\t\t}        \r\n            this.$emit('onDelete', formData);\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SysUsersForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SysUsersForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SysUsersForm.vue?vue&type=template&id=6154f704&\"\nimport script from \"./SysUsersForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SysUsersForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <v-container fluid>     \r\n        <v-toolbar >\r\n            <v-toolbar-title>사용자 관리</v-toolbar-title>\r\n            <v-divider class=\"mx-4\" inset vertical></v-divider>       \r\n            <v-spacer></v-spacer>\r\n            <v-btn color=\"primary\" dark class=\"mr-2\" @click=\"openDialog()\">사용자 추가</v-btn>\r\n        </v-toolbar>\r\n        <v-card>\r\n            <v-card-title>                \r\n                <v-text-field v-model=\"search\" append-icon=\"mdi-magnify\" label=\"Search\" single-line hide-details sm=\"2\"></v-text-field>                \r\n            </v-card-title>\r\n            \r\n            <v-data-table :headers=\"headers\" :items=\"users\" :search=\"search\" :loading=\"loading\" @dblclick:row=\"showRowInfo\" />\r\n            <!--\r\n            <v-data-table :headers=\"headers\" :items=\"users\" :search=\"search\" :loading=\"loading\" @dblclick:row=\"showRowInfo\" >            \r\n                <template v-slot:item=\"{ item }\"  >\r\n                    <tr @dblclick=\"handleClick(item)\">\r\n                        <td width=\"160\"> <v-select v-model=\"item.i_com\" :readonly=\"true\" :items=\"compnayLists\" item-text=\"n_com\" item-value=\"i_com\"></v-select> </td>\r\n                        <td> {{item.i_id}} </td>\r\n                        <td> {{item.n_name}} </td>\r\n                        <td> {{item.i_password}} </td>\r\n                        <td> {{item.t_memo}}</td>                        \r\n                    </tr>\r\n                </template>            \r\n            </v-data-table>\r\n            -->\r\n        </v-card>\r\n        \r\n    \r\n        <ez-dialog label=\"사용자 추가/수정\" ref=\"dialog\" width=\"400\" color=\"primary\" persistent @onClose=\"onClose\">\r\n        \r\n            <sys-users-form :user=\"user\" :companys=\"compnayLists\" :isNew=\"isNew\" :cbCheckId=\"cbCheckId\" @onSave=\"save\" @onDelete=\"userdel\" :onClose=\"onClose\">\r\n            </sys-users-form>\r\n            <!--\r\n            <sys-users-form :user=\"user\" :companys=\"compnayLists\" :isNew=\"isNew\" @onSave=\"save\">\r\n            </sys-users-form>\r\n            -->\r\n        </ez-dialog>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\nimport EzDialog from '../../components/etc/EzDialog.vue';\r\nimport SysUsersForm from './SysUsersForm.vue';\r\n\r\n\r\nexport default {\r\n  components: { EzDialog, SysUsersForm },\r\n    name: \"SysUsers\",\r\n    data() {\r\n        return {\r\n            search: '',\r\n            loading: false,\r\n            compnayLists: [],\r\n\r\n            headers: [\r\n                \r\n                { text: '사업장명', value: 'n_com' },\r\n                { text: 'ID', value: 'i_id' },\r\n                { text: '성명', value: 'n_name' },\r\n                \r\n                { text: '메모', value: 't_memo'},\r\n            ],\r\n\r\n            users: [],\r\n            company: -1,\r\n            curUsers: [],\r\n            user: null,\r\n            isNew: true,\r\n            isEdit: false,\r\n        };\r\n    },\r\n    computed: {\r\n        companyUsers() {           \r\n        },\r\n        companyName() {           \r\n        },\r\n    },\r\n    watch: {\r\n        company() {\r\n            \r\n        }\r\n    },\r\n    mounted() {\r\n        this.fetchData();\r\n    },\r\n    methods: {        \r\n        ...mapActions(\"company\", [\"createUser\", \"updateUser\", \"deleteUser\", \"duplicateCheckId\"]),\r\n        onClose(){\r\n            if(!this.isEdit) {\r\n                if(this.users) {\r\n                    if (this.user) {\r\n                        this.user = null;\r\n                    } else {\r\n                        this.user = this.users[0];\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        async fetchData() {            \r\n            this.compnayLists = await this.$axios.get(\"/api/company/companylist\");\r\n            this.users = await this.$axios.get(\"/api/company/companyusers\");                 \r\n        },\r\n        openDialog() {\r\n            this.isNew = true;            \r\n            this.user = null;\r\n            this.isEdit = false;\r\n            this.$refs.dialog.open();            \r\n        },\r\n        showRowInfo(event, { item }) {\r\n            this.isNew = false;\r\n            this.isEdit = false;\r\n            this.user = item;\r\n            this.$refs.dialog.open();\r\n        },       \r\n        handleClick({ item }) {\r\n            console.log(\"item\", this.item);\r\n            // this.user = item;\r\n            // this.$refs.dialog.open();\r\n        },\r\n        async cbCheckId(value) {\r\n            const payload = {\r\n                field: \"i_id\",\r\n                value,\r\n            };            \r\n            return await this.duplicateCheckId(payload); \r\n        },\r\n        async save(form) {\r\n            this.isLoading = true;            \r\n            if (this.isNew) {\r\n                const data = await this.createUser(form);\r\n                if (data) {\r\n                    this.users.push(data);                \r\n                    this.$toast.info(`${data.i_id} 추가 하였습니다.`);\r\n                }\r\n            } else {\r\n                const data = await this.updateUser(form);                \r\n                if (data) {\r\n                    if (data == true) {\r\n                        const idx = this.users.indexOf(this.user);\r\n                        this.users.splice(idx, 1);\r\n                        this.$toast.info(`${this.user.i_id} 삭제 하였습니다.`);\r\n                    } else {\r\n                        const idx = this.users.indexOf(this.user);                    \r\n                        this.users.splice(idx, 1, data);\r\n                        this.$toast.info(`${this.user.i_id} 수정 하였습니다.`);\r\n                    }\r\n                }\r\n            }            \r\n            this.isEdit = true;\r\n            this.isLoading = false;    \r\n            this.$refs.dialog.close();       \r\n        },\r\n\r\n        async userdel(form) {                   \r\n            const result =  await this.$ezNotify.confirm(\r\n\t\t\t \t`<b>${this.user.i_id}</b> 삭제 하시겠습니까?`,\r\n\t\t\t \t'사용자 삭제',\r\n\t\t\t \t{icon : 'mdi-delete', iconColor: 'red'}\r\n\t\t\t );\r\n            if(!result) {\r\n                this.$refs.dialog.close();\r\n                return;\r\n            } \r\n            this.isEdit = true;\r\n            const idx = this.users.indexOf(this.user);\r\n            this.users.splice(idx, 1);\r\n            this.$toast.info(`${this.user.i_id} 삭제 하였습니다.`);\r\n\r\n            const data = await this.deleteUser(form); \r\n            \r\n            this.$refs.dialog.close();            \r\n        }\r\n        \r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SysUsers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SysUsers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SysUsers.vue?vue&type=template&id=24da4fe4&\"\nimport script from \"./SysUsers.vue?vue&type=script&lang=js&\"\nexport * from \"./SysUsers.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',_vm._b({model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},'v-dialog',_vm.$attrs,false),[_c('v-card',[_c('v-toolbar',[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.label))]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.close}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-card-text',[_vm._t(\"default\")],2)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"dialog\" v-bind=\"$attrs\">\n    <v-card>\n      <v-toolbar>\n        <v-toolbar-title>{{ label }}</v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-btn icon @click=\"close\">\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n      </v-toolbar>\n      <v-card-text>\n        <slot></slot>\n      </v-card-text>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"ezDialog\",\n  props: {\n    label: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      dialog: false,\n    };\n  },\n  methods: {\n    close() {\n      this.dialog = false;\n\t\t\tthis.$emit('onClose');\n    },\n    open() {\n\t\t\tthis.$emit('onOpen');\n      this.dialog = true;\n    },\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EzDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EzDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EzDialog.vue?vue&type=template&id=385d7756&\"\nimport script from \"./EzDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./EzDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}